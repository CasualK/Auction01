'use strict';

exports.__esModule = true;

var _helpers = require('./internals/helpers');

function stackApplier(unit, stack, context) {
  var nextStack = unit.apply(context, stack.slice().reverse());
  return (0, _helpers.isArray)(nextStack) ? nextStack.slice().reverse() : [];
}

/**
 * Invoke function taked from result
 */
exports.default = (0, _helpers.defFactory)('mapArgs', function (fn) {
  var _ref;

  var nextName = 'mapArgs' + (fn.name || 'StackSpecifier');
  var _ = (_ref = {}, _ref[nextName] = function () {
    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    return fn.apply(this, args);
  }, _ref);

  return _[nextName];
}, stackApplier);
module.exports = exports['default'];